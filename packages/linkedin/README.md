I think the async in forEach loops don't work as expected. I think I need an await somewhere.
